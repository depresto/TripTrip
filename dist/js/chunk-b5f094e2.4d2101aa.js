(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b5f094e2"],{"1e09":function(t,e,i){},"2d68":function(t,e,i){},"3a4a":function(t,e,i){"use strict";var s=i("2d68"),a=i.n(s);a.a},"41e7":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"trip"}},[i("main",[i("div",{attrs:{id:"toggle-bar"}},[i("v-list",[i("v-list-item-group",{attrs:{mandatory:""}},[i("v-list-item",{staticStyle:{border:"0.5px solid rgba(102, 102, 102, 0.5)"},on:{click:function(e){return t.toggleContent("overview")}}},[i("v-list-item-content",[i("v-list-item-title",{staticClass:"text-center",domProps:{textContent:t._s("概覽")}})],1)],1),t._l(t.dates,function(e,s){return i("v-list-item",{key:s,staticStyle:{border:"0.5px solid rgba(102, 102, 102, 0.5)"},on:{click:function(i){return t.toggleContent(e)}}},[i("v-list-item-content",[i("v-list-item-title",{staticClass:"text-center",domProps:{textContent:t._s(e.getMonth()+1+"/"+e.getDate())}},[t._v("// 顯示日期")])],1)],1)}),t.$route.path.includes("edit")?i("v-list-item",{staticStyle:{border:"0.5px solid rgba(102, 102, 102, 0.5)"},on:{click:function(e){return t.addNewDate()}}},[t._v("// 編輯模式中新增旅遊日期"),i("v-list-item-content",[i("v-list-item-title",{staticClass:"text-center",domProps:{textContent:t._s("+")}})],1)],1):t._e()],2)],1)],1),i("div",{attrs:{id:"content"}},["overview"===t.currentDisplay?i("overview",{attrs:{trip:t.trip}}):"overview"!==t.currentDisplay?i("div",{attrs:{id:"trip-schedule"}},[i("div",{staticClass:"schedules"},[i("div",{staticClass:"date mb-2"},[i("v-sheet",{staticClass:"d-flex justify-start align-center",attrs:{width:"370",height:"47",color:"grey lighten-2",elevation:"2"}},[i("v-icon",{staticStyle:{width:"40px",padding:"10px 0px"},on:{click:t.control}},[t._v("mdi-dots-vertical")]),i("span",{staticClass:"text-center",staticStyle:{width:"calc(100% - 40px)",cursor:"default","margin-right":"40px"}},[t._v(t._s(t.changeDateType)+"  ("+t._s(t.weekdays)+")")])],1)],1),i("div",{staticClass:"schedule-list"},[t._l(t.schedules[this.dates.indexOf(this.currentDisplay)],function(e,s){return i("v-sheet",{key:s,staticClass:"schedule-card align-center mb-3",attrs:{width:"370",height:"47",color:"white",elevation:"2"},on:{click:function(i){return t.getSite(e.id)}}},[i("div",{staticClass:"time"},[t._v(t._s(new Date(e.startTime).getHours()+":"+(0===new Date(e.startTime).getMinutes()?"00":new Date(e.startTime).getMinutes())+" ~ "+new Date(e.endTime).getHours()+":"+(0===new Date(e.endTime).getMinutes()?"00":new Date(e.endTime).getMinutes())))]),i("div",{staticClass:"activity"},[t._v(t._s(e.name))]),i("div",{staticClass:"cost"},[t._v(t._s("$"+e.cost))])])}),i("div",{staticClass:"note mt-4"},[i("v-sheet",{staticClass:"d-flex flex-wrap align-start",attrs:{width:"370",height:"268",color:"grey lighten-4",elevation:"2"}},[i("div",{staticClass:"col-auto"},[i("span",{staticStyle:{width:"100%"}},[t._v("備註：")]),i("p",[t._v(t._s(t.note))])])])],1)],2)]),i("div",{staticClass:"site"},[i("div",{staticClass:"title mb-2"},[i("v-sheet",{staticClass:"d-flex justify-start align-center",attrs:{width:"250",height:"47",color:"grey lighten-2",elevation:"2"}},[i("span",{staticClass:"text-center",staticStyle:{width:"100%",cursor:"default"}},[t._v("景點資訊")])])],1),i("div",{staticClass:"little-card"},[t.currentSiteCard?i("little-card",{attrs:{item:t.currentSiteCard,type:"site"}}):0===t.currentSiteCard.length?i("p",[t._v("none")]):t._e()],1)])]):t._e()],1)]),i("div",{attrs:{id:"map"}})])},a=[],n=i("2dc1"),r=i("52f9"),c=i("0e8e"),o=i("2f62"),l={name:"trip",components:{Overview:n["a"],LittleCard:r["a"]},data(){return{dates:[],currentDisplay:null,currentSiteCard:[],schedules:[],map:null,marker:null}},beforeMount(){this.currentDisplay="overview";const t=new Date(this.trip.startDate);for(let e=0;e<this.trip.days;e++){let i=new Date(t);i.setDate(i.getDate()+e),this.dates.push(i)}this.trip.contents.forEach(t=>{this.schedules.push(t.activities)})},mounted(){this.initMap()},computed:{...Object(o["e"])("trip",{trip:t=>t.trip}),...Object(o["e"])("account",{account:t=>t}),changeDateType(){return"overview"===this.currentDisplay?"overview":this.currentDisplay.getMonth()+1+"/"+this.currentDisplay.getDate()},weekdays(){if("overview"!==this.currentDisplay)switch(this.currentDisplay.getDay()){case 0:return"日";case 1:return"一";case 2:return"二";case 3:return"三";case 4:return"四";case 5:return"五";case 6:return"六"}},note(){return this.trip.contents[this.dates.indexOf(this.currentDisplay)].note}},methods:{initMap(){this.map=new google.maps.Map(document.getElementById("map"),{center:{lat:23.039808,lng:120.211868},zoom:13,mapTypeControl:!1,fullscreenControl:!0,fullscreenControlOptions:{position:google.maps.ControlPosition.RIGHT_BOTTOM}}),this.marker=new google.maps.Marker({map:this.map,position:{lat:23.039808,lng:120.211868}}),this.marker.addListener("click",t=>{this.map.setZoom(8),this.map.setCenter(this.myTainanHouse)})},showSiteOnMap(t){this.marker.setPosition(t),this.map.setCenter(t)},toggleContent(t){this.currentDisplay=t},addNewDate(){let t=this.dates[this.dates.length-1],e=new Date(t);e.setDate(e.getDate()+1),this.dates.push(e)},control(){console.log("control")},async getSite(t){try{this.currentSiteCard=await c["a"].getSite(t)}catch(e){console.log(e)}}}},d=l,u=(i("3a4a"),i("2877")),h=i("6544"),p=i.n(h),v=i("132d"),m=i("8860"),g=i("da13"),y=i("5d23"),f=i("1baa"),C=i("8dd9"),w=Object(u["a"])(d,s,a,!1,null,"283d08f0",null);e["default"]=w.exports;p()(w,{VIcon:v["a"],VList:m["a"],VListItem:g["a"],VListItemContent:y["a"],VListItemGroup:f["a"],VListItemTitle:y["b"],VSheet:C["a"]})},"52f9":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"little-card-root"},[i("v-carousel",{attrs:{height:"144","hide-delimiter-background":"","hide-delimiters":"","next-icon":1!==t.images.length&&"$vuetify.icons.next","prev-icon":1!==t.images.length&&"$vuetify.icons.prev"}},t._l(t.images,function(t){return i("v-carousel-item",{key:t,attrs:{src:t}})}),1),i("div",{staticClass:"card-content"},[i("rating-favorite",{attrs:{item:t.item,type:t.type}})],1)],1)},a=[],n=i("d22d"),r={components:{RatingFavorite:n["a"]},props:{item:Object,type:String},data(){return{images:[]}},created(){"site"===this.type?this.images=this.item.photos:this.images=this.item.images,0===this.images.length&&this.images.push(i("aa53"))}},c=r,o=(i("c7ca"),i("2877")),l=i("6544"),d=i.n(l),u=i("b0af"),h=i("5e66"),p=i("3e35"),v=Object(o["a"])(c,s,a,!1,null,null,null);e["a"]=v.exports;d()(v,{VCard:u["a"],VCarousel:h["a"],VCarouselItem:p["a"]})},aa53:function(t,e,i){t.exports=i.p+"img/5.ccc16904.jpg"},c7ca:function(t,e,i){"use strict";var s=i("1e09"),a=i.n(s);a.a}}]);
//# sourceMappingURL=chunk-b5f094e2.4d2101aa.js.map